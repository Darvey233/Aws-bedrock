{"filter":false,"title":"showcase_app.py","tooltip":"/workshop/labs/showcase/showcase_app.py","undoManager":{"mark":45,"position":45,"stack":[[{"start":{"row":0,"column":0},"end":{"row":4,"column":0},"action":"insert","lines":["import streamlit as st","import showcase_lib as glib","import showcase_examples as examples","",""],"id":1}],[{"start":{"row":4,"column":0},"end":{"row":10,"column":0},"action":"insert","lines":["st.set_page_config(page_title=\"Demo Showcase\", layout=\"wide\")","","st.title(\"Demo Showcase\")","","col1, col2, col3 = st.columns(3)","",""],"id":2}],[{"start":{"row":3,"column":0},"end":{"row":4,"column":0},"action":"insert","lines":["",""],"id":3},{"start":{"row":4,"column":0},"end":{"row":4,"column":1},"action":"insert","lines":["#"]}],[{"start":{"row":4,"column":1},"end":{"row":5,"column":82},"action":"insert","lines":["Here we are setting the page title on the actual page and the title shown in the browser tab.","We are creating three columns, for the prompt templates, user inputs, and results."],"id":4}],[{"start":{"row":5,"column":0},"end":{"row":5,"column":1},"action":"insert","lines":["#"],"id":5}],[{"start":{"row":5,"column":83},"end":{"row":6,"column":0},"action":"insert","lines":["",""],"id":6}],[{"start":{"row":4,"column":1},"end":{"row":4,"column":38},"action":"insert","lines":["Add the page title and column layout."],"id":7}],[{"start":{"row":4,"column":38},"end":{"row":4,"column":39},"action":"insert","lines":[" "],"id":8}],[{"start":{"row":13,"column":0},"end":{"row":13,"column":1},"action":"insert","lines":["#"],"id":10}],[{"start":{"row":13,"column":1},"end":{"row":17,"column":89},"action":"insert","lines":["Add the prompt elements.","","We are creating a selectbox control to allow the user to choose from various prompt examples.","We use the expander control to optionally hide the prompt details in the demo application.","The user can customize the prompt in the user interface (changes won't be saved, though)."],"id":11}],[{"start":{"row":14,"column":0},"end":{"row":15,"column":0},"action":"remove","lines":["",""],"id":12}],[{"start":{"row":14,"column":0},"end":{"row":14,"column":1},"action":"insert","lines":["#"],"id":13}],[{"start":{"row":14,"column":0},"end":{"row":14,"column":1},"action":"remove","lines":["#"],"id":14}],[{"start":{"row":14,"column":0},"end":{"row":14,"column":1},"action":"insert","lines":["/"],"id":15},{"start":{"row":14,"column":1},"end":{"row":14,"column":2},"action":"insert","lines":["/"]}],[{"start":{"row":14,"column":1},"end":{"row":14,"column":2},"action":"remove","lines":["/"],"id":16},{"start":{"row":14,"column":0},"end":{"row":14,"column":1},"action":"remove","lines":["/"]}],[{"start":{"row":14,"column":0},"end":{"row":14,"column":1},"action":"insert","lines":["#"],"id":17},{"start":{"row":14,"column":1},"end":{"row":14,"column":2},"action":"insert","lines":["#"]}],[{"start":{"row":16,"column":89},"end":{"row":16,"column":90},"action":"insert","lines":["#"],"id":18},{"start":{"row":16,"column":90},"end":{"row":16,"column":91},"action":"insert","lines":["#"]}],[{"start":{"row":16,"column":90},"end":{"row":16,"column":91},"action":"remove","lines":["#"],"id":19},{"start":{"row":16,"column":89},"end":{"row":16,"column":90},"action":"remove","lines":["#"]}],[{"start":{"row":14,"column":2},"end":{"row":14,"column":3},"action":"insert","lines":["#"],"id":20}],[{"start":{"row":16,"column":89},"end":{"row":16,"column":90},"action":"insert","lines":["#"],"id":21},{"start":{"row":16,"column":90},"end":{"row":16,"column":91},"action":"insert","lines":["#"]},{"start":{"row":16,"column":91},"end":{"row":16,"column":92},"action":"insert","lines":["#"]}],[{"start":{"row":16,"column":91},"end":{"row":16,"column":92},"action":"remove","lines":["#"],"id":22},{"start":{"row":16,"column":90},"end":{"row":16,"column":91},"action":"remove","lines":["#"]},{"start":{"row":16,"column":89},"end":{"row":16,"column":90},"action":"remove","lines":["#"]}],[{"start":{"row":14,"column":2},"end":{"row":14,"column":3},"action":"remove","lines":["#"],"id":23},{"start":{"row":14,"column":1},"end":{"row":14,"column":2},"action":"remove","lines":["#"]}],[{"start":{"row":15,"column":0},"end":{"row":15,"column":1},"action":"insert","lines":["#"],"id":24}],[{"start":{"row":16,"column":0},"end":{"row":16,"column":1},"action":"insert","lines":["#"],"id":25}],[{"start":{"row":16,"column":90},"end":{"row":17,"column":0},"action":"insert","lines":["",""],"id":26}],[{"start":{"row":17,"column":0},"end":{"row":30,"column":0},"action":"insert","lines":["with col1:","    st.subheader(\"Prompt template\")","    ","    prompts_keys = list(examples.prompts)","","    prompt_selection = st.selectbox(\"Select a prompt template:\", prompts_keys)","    ","    with st.expander(\"View prompt\"):","","        selected_prompt_template_text = examples.prompts[prompt_selection]","","        prompt_text = st.text_area(\"Prompt template text:\", value=selected_prompt_template_text, height=350)","",""],"id":27}],[{"start":{"row":30,"column":0},"end":{"row":30,"column":1},"action":"insert","lines":["#"],"id":28}],[{"start":{"row":30,"column":1},"end":{"row":33,"column":88},"action":"insert","lines":["Add the input elements.","","Similar to above, we use a selectbox control to allow the user to select various input examples.","The user can customize the input in the user interface (changes won't be saved, though)."],"id":29}],[{"start":{"row":31,"column":0},"end":{"row":32,"column":0},"action":"remove","lines":["",""],"id":30}],[{"start":{"row":31,"column":0},"end":{"row":31,"column":1},"action":"insert","lines":["#"],"id":31}],[{"start":{"row":32,"column":0},"end":{"row":32,"column":1},"action":"insert","lines":["#"],"id":32}],[{"start":{"row":32,"column":89},"end":{"row":33,"column":0},"action":"insert","lines":["",""],"id":33}],[{"start":{"row":33,"column":0},"end":{"row":45,"column":0},"action":"insert","lines":["with col2:","    st.subheader(\"User input\")","    inputs_keys = list(examples.inputs)","    ","    input_selection = st.selectbox(\"Select an input example:\", inputs_keys)","    ","    selected_input_template_text = examples.inputs[input_selection]","","    input_text = st.text_area(\"Input text:\", value=selected_input_template_text, height=350)","    ","    process_button = st.button(\"Run\", type=\"primary\")","",""],"id":34}],[{"start":{"row":45,"column":0},"end":{"row":45,"column":1},"action":"insert","lines":["#"],"id":35}],[{"start":{"row":45,"column":1},"end":{"row":47,"column":151},"action":"insert","lines":["Add the output elements.","","We use the if block below to handle the button click. We display a spinner while the backing function is called, then write the output to the web page."],"id":36}],[{"start":{"row":46,"column":0},"end":{"row":47,"column":0},"action":"remove","lines":["",""],"id":37}],[{"start":{"row":45,"column":0},"end":{"row":45,"column":1},"action":"insert","lines":["#"],"id":38}],[{"start":{"row":45,"column":0},"end":{"row":45,"column":1},"action":"remove","lines":["#"],"id":39}],[{"start":{"row":45,"column":25},"end":{"row":45,"column":26},"action":"insert","lines":["#"],"id":40}],[{"start":{"row":45,"column":25},"end":{"row":45,"column":26},"action":"remove","lines":["#"],"id":41}],[{"start":{"row":46,"column":0},"end":{"row":46,"column":1},"action":"insert","lines":["#"],"id":42}],[{"start":{"row":46,"column":152},"end":{"row":47,"column":0},"action":"insert","lines":["",""],"id":43}],[{"start":{"row":47,"column":0},"end":{"row":56,"column":0},"action":"insert","lines":["with col3:","    st.subheader(\"Result\")","    ","    if process_button:","        with st.spinner(\"Running...\"):","            response_content = glib.get_text_response(user_input=input_text, template=prompt_text)","","            st.write(response_content)","",""],"id":44}],[{"start":{"row":56,"column":0},"end":{"row":57,"column":0},"action":"insert","lines":["",""],"id":45},{"start":{"row":57,"column":0},"end":{"row":58,"column":0},"action":"insert","lines":["",""]}],[{"start":{"row":57,"column":0},"end":{"row":58,"column":0},"action":"remove","lines":["",""],"id":46}],[{"start":{"row":56,"column":0},"end":{"row":57,"column":0},"action":"remove","lines":["",""],"id":47},{"start":{"row":55,"column":0},"end":{"row":56,"column":0},"action":"remove","lines":["",""]}]]},"ace":{"folds":[],"scrolltop":300,"scrollleft":0,"selection":{"start":{"row":30,"column":24},"end":{"row":30,"column":24},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":20,"state":"start","mode":"ace/mode/python"}},"timestamp":1716785454851,"hash":"0425b426def0c63e27062394149713454776bb69"}