{"changed":true,"filter":false,"title":"summarization_app.py","tooltip":"/workshop/labs/summarization/summarization_app.py","value":"import streamlit as st\nimport summarization_lib as glib\n\nst.set_page_config(page_title=\"Document Summarization\")\nst.title(\"Document Summarization\")\n\nreturn_intermediate_steps = st.checkbox(\"Return intermediate steps\", value=True)\nsummarize_button = st.button(\"Summarize\", type=\"primary\")\n\n\nif summarize_button:\n    st.subheader(\"Combined summary\")\n\n    with st.spinner(\"Running...\"):\n        response_content = glib.get_summary(return_intermediate_steps=return_intermediate_steps)\n    \n\n    if return_intermediate_steps:\n\n        st.write(response_content[\"output_text\"])\n\n        st.subheader(\"Section summaries\")\n\n        for step in response_content[\"intermediate_steps\"]:\n            st.write(step)\n            st.markdown(\"---\")\n\n    else:\n        st.write(response_content[\"output_text\"])\n\n","undoManager":{"mark":2,"position":3,"stack":[[{"start":{"row":0,"column":0},"end":{"row":3,"column":0},"action":"insert","lines":["import streamlit as st","import summarization_lib as glib","",""],"id":4}],[{"start":{"row":3,"column":0},"end":{"row":6,"column":0},"action":"insert","lines":["st.set_page_config(page_title=\"Document Summarization\")","st.title(\"Document Summarization\")","",""],"id":5}],[{"start":{"row":6,"column":0},"end":{"row":30,"column":0},"action":"insert","lines":["return_intermediate_steps = st.checkbox(\"Return intermediate steps\", value=True)","summarize_button = st.button(\"Summarize\", type=\"primary\")","","","if summarize_button:","    st.subheader(\"Combined summary\")","","    with st.spinner(\"Running...\"):","        response_content = glib.get_summary(return_intermediate_steps=return_intermediate_steps)","","","    if return_intermediate_steps:","","        st.write(response_content[\"output_text\"])","","        st.subheader(\"Section summaries\")","","        for step in response_content[\"intermediate_steps\"]:","            st.write(step)","            st.markdown(\"---\")","","    else:","        st.write(response_content[\"output_text\"])","",""],"id":6}],[{"start":{"row":15,"column":0},"end":{"row":15,"column":4},"action":"insert","lines":["    "],"id":9}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":14,"column":4},"end":{"row":14,"column":4},"isBackwards":true},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":11,"state":"start","mode":"ace/mode/python"}},"timestamp":1716767806636}